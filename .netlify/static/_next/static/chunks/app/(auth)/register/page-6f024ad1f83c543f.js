(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[566],{9618:function(e,s,t){Promise.resolve().then(t.bind(t,1116))},1981:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(140).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},4965:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(140).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},9939:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(140).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},1116:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return y}});var a=t(789),l=t(8207),r=t(4505),i=t(3629),n=t(9986),c=t(8520),d=t(8713);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,t(140).Z)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var u=t(3927),m=t(2958),x=t(4965),h=t(9455),p=t(4653),f=t(1981),b=t(9939),g=t(3869);function y(){let e=(0,r.useRouter)(),{signUpWithEmail:s,signInWithOAuth:t}=(0,c.a)(),{toast:y}=(0,d.pm)(),[v,j]=(0,l.useState)({username:"",displayName:"",email:"",password:"",confirmPassword:""}),[N,w]=(0,l.useState)(!1),[k,Z]=(0,l.useState)(!1),C=(0,g.fy)(v.password),P=[{text:"至少8个字符",met:v.password.length>=8},{text:"包含大小写字母",met:/[a-z]/.test(v.password)&&/[A-Z]/.test(v.password)},{text:"包含数字",met:/\d/.test(v.password)},{text:"包含特殊字符",met:/[^a-zA-Z0-9]/.test(v.password)}],_=async t=>{if(t.preventDefault(),!v.username||!v.email||!v.password){y({title:"请填写完整",description:"用户名、邮箱和密码不能为空",variant:"destructive"});return}if(!(0,g.vV)(v.email)){y({title:"邮箱格式错误",description:"请输入有效的邮箱地址",variant:"destructive"});return}if(v.password.length<8){y({title:"密码过短",description:"密码至少需要8个字符",variant:"destructive"});return}if(v.password!==v.confirmPassword){y({title:"密码不匹配",description:"两次输入的密码不一致",variant:"destructive"});return}if(!k){y({title:"请同意条款",description:"请阅读并同意服务条款和隐私政策",variant:"destructive"});return}w(!0);try{await s(v.email,v.password,v.username,v.displayName||v.username),y({title:"注册成功!",description:"请查收验证邮件以激活账号"}),setTimeout(()=>{e.push("/verify-email")},2e3)}catch(s){console.error("注册失败:",s);let e="注册失败,请重试";s.message.includes("already registered")?e="该邮箱已被注册":s.message.includes("invalid")&&(e="输入信息无效"),y({title:"注册失败",description:e,variant:"destructive"})}finally{w(!1)}},z=async e=>{w(!0);try{await t(e)}catch(e){console.error("OAuth注册失败:",e),y({title:"OAuth注册失败",description:e.message,variant:"destructive"}),w(!1)}};return(0,a.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-blue-50 via-white to-cyan-50 px-4 py-12",children:(0,a.jsxs)("div",{className:"w-full max-w-md",children:[(0,a.jsxs)("div",{className:"mb-8 text-center",children:[(0,a.jsxs)(i.default,{href:"/",className:"inline-flex items-center gap-2 text-3xl font-bold text-blue-600",children:[(0,a.jsx)(o,{className:"h-8 w-8"}),(0,a.jsx)("span",{children:"GameCode Lab"})]}),(0,a.jsx)("p",{className:"mt-2 text-gray-600",children:"创建账号,开始你的编程之旅"})]}),(0,a.jsxs)("div",{className:"rounded-2xl border bg-white p-8 shadow-lg",children:[(0,a.jsxs)("div",{className:"mb-6 space-y-3",children:[(0,a.jsxs)(n.z,{variant:"outline",className:"w-full gap-2",onClick:()=>z("google"),disabled:N,children:[(0,a.jsx)(u.Z,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"使用 Google 注册"})]}),(0,a.jsxs)(n.z,{variant:"outline",className:"w-full gap-2",onClick:()=>z("github"),disabled:N,children:[(0,a.jsx)(m.Z,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"使用 GitHub 注册"})]})]}),(0,a.jsxs)("div",{className:"relative mb-6",children:[(0,a.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,a.jsx)("div",{className:"w-full border-t border-gray-200"})}),(0,a.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,a.jsx)("span",{className:"bg-white px-4 text-gray-500",children:"或使用邮箱注册"})})]}),(0,a.jsxs)("form",{onSubmit:_,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:"用户名"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(x.Z,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),(0,a.jsx)("input",{type:"text",value:v.username,onChange:e=>j({...v,username:e.target.value}),placeholder:"username",className:"w-full rounded-lg border border-gray-300 py-2 pl-10 pr-4 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",disabled:N})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:"显示名称 (可选)"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(x.Z,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),(0,a.jsx)("input",{type:"text",value:v.displayName,onChange:e=>j({...v,displayName:e.target.value}),placeholder:"Your Name",className:"w-full rounded-lg border border-gray-300 py-2 pl-10 pr-4 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",disabled:N})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:"邮箱地址"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(h.Z,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),(0,a.jsx)("input",{type:"email",value:v.email,onChange:e=>j({...v,email:e.target.value}),placeholder:"your@email.com",className:"w-full rounded-lg border border-gray-300 py-2 pl-10 pr-4 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",disabled:N})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:"密码"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(p.Z,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),(0,a.jsx)("input",{type:"password",value:v.password,onChange:e=>j({...v,password:e.target.value}),placeholder:"••••••••",className:"w-full rounded-lg border border-gray-300 py-2 pl-10 pr-4 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",disabled:N})]}),v.password&&(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsx)("div",{className:"mb-1 flex gap-1",children:[void 0,void 0,void 0,void 0].map((e,s)=>(0,a.jsx)("div",{className:"h-1 flex-1 rounded ".concat(s<C?"bg-green-500":"bg-gray-200")},s))}),(0,a.jsx)("div",{className:"space-y-1 text-xs",children:P.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[e.met?(0,a.jsx)(f.Z,{className:"h-3 w-3 text-green-500"}):(0,a.jsx)(b.Z,{className:"h-3 w-3 text-gray-400"}),(0,a.jsx)("span",{className:e.met?"text-green-600":"text-gray-500",children:e.text})]},s))})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:"确认密码"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(p.Z,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),(0,a.jsx)("input",{type:"password",value:v.confirmPassword,onChange:e=>j({...v,confirmPassword:e.target.value}),placeholder:"••••••••",className:"w-full rounded-lg border border-gray-300 py-2 pl-10 pr-4 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",disabled:N})]})]}),(0,a.jsx)("div",{children:(0,a.jsxs)("label",{className:"flex items-start gap-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:k,onChange:e=>Z(e.target.checked),className:"mt-1 h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,a.jsxs)("span",{className:"text-sm text-gray-600",children:["我已阅读并同意"," ",(0,a.jsx)(i.default,{href:"/terms",className:"text-blue-600 hover:text-blue-700",children:"服务条款"})," ","和"," ",(0,a.jsx)(i.default,{href:"/privacy",className:"text-blue-600 hover:text-blue-700",children:"隐私政策"})]})]})}),(0,a.jsx)(n.z,{type:"submit",className:"w-full",disabled:N||!k,children:N?"注册中...":"创建账号"})]}),(0,a.jsxs)("p",{className:"mt-6 text-center text-sm text-gray-600",children:["已有账号?"," ",(0,a.jsx)(i.default,{href:"/login",className:"font-medium text-blue-600 hover:text-blue-700",children:"立即登录"})]}),(0,a.jsx)("div",{className:"mt-4 text-center",children:(0,a.jsx)(i.default,{href:"/learn",className:"text-sm text-gray-500 hover:text-gray-700",children:"继续以游客身份学习 →"})})]})]})})}}},function(e){e.O(0,[359,519,511,520,372,211,395,744],function(){return e(e.s=9618)}),_N_E=e.O()}]);