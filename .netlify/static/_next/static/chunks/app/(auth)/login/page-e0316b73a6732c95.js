(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[665],{3217:function(e,s,t){Promise.resolve().then(t.bind(t,2791))},2791:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return f}});var a=t(3827),l=t(4090),r=t(7907),i=t(8792),n=t(575),c=t(7269),d=t(6862);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let u=(0,t(7461).Z)("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);var o=t(4295),x=t(5582),m=t(684),h=t(1652),b=t(2169);function f(){let e=(0,r.useRouter)(),{signInWithEmail:s,signInWithOAuth:t}=(0,c.a)(),{toast:f}=(0,d.pm)(),[p,j]=(0,l.useState)(""),[v,g]=(0,l.useState)(""),[y,N]=(0,l.useState)(!1),w=async t=>{if(t.preventDefault(),!p||!v){f({title:"请填写完整",description:"邮箱和密码不能为空",variant:"destructive"});return}if(!(0,b.vV)(p)){f({title:"邮箱格式错误",description:"请输入有效的邮箱地址",variant:"destructive"});return}N(!0);try{await s(p,v),f({title:"登录成功!",description:"欢迎回来,正在跳转..."}),setTimeout(()=>{e.push("/learn")},1e3)}catch(e){console.error("登录失败:",e),f({title:"登录失败",description:e.message||"邮箱或密码错误",variant:"destructive"})}finally{N(!1)}},k=async e=>{N(!0);try{await t(e)}catch(e){console.error("OAuth登录失败:",e),f({title:"OAuth登录失败",description:e.message,variant:"destructive"}),N(!1)}};return(0,a.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-blue-50 via-white to-cyan-50 px-4",children:(0,a.jsxs)("div",{className:"w-full max-w-md",children:[(0,a.jsxs)("div",{className:"mb-8 text-center",children:[(0,a.jsxs)(i.default,{href:"/",className:"inline-flex items-center gap-2 text-3xl font-bold text-blue-600",children:[(0,a.jsx)(u,{className:"h-8 w-8"}),(0,a.jsx)("span",{children:"GameCode Lab"})]}),(0,a.jsx)("p",{className:"mt-2 text-gray-600",children:"登录你的账号,继续学习之旅"})]}),(0,a.jsxs)("div",{className:"rounded-2xl border bg-white p-8 shadow-lg",children:[(0,a.jsxs)("div",{className:"mb-6 space-y-3",children:[(0,a.jsxs)(n.z,{variant:"outline",className:"w-full gap-2",onClick:()=>k("google"),disabled:y,children:[(0,a.jsx)(o.Z,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"使用 Google 登录"})]}),(0,a.jsxs)(n.z,{variant:"outline",className:"w-full gap-2",onClick:()=>k("github"),disabled:y,children:[(0,a.jsx)(x.Z,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"使用 GitHub 登录"})]})]}),(0,a.jsxs)("div",{className:"relative mb-6",children:[(0,a.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,a.jsx)("div",{className:"w-full border-t border-gray-200"})}),(0,a.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,a.jsx)("span",{className:"bg-white px-4 text-gray-500",children:"或使用邮箱登录"})})]}),(0,a.jsxs)("form",{onSubmit:w,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:"邮箱地址"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(m.Z,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),(0,a.jsx)("input",{type:"email",value:p,onChange:e=>j(e.target.value),placeholder:"your@email.com",className:"w-full rounded-lg border border-gray-300 py-2 pl-10 pr-4 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",disabled:y})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:"密码"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(h.Z,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),(0,a.jsx)("input",{type:"password",value:v,onChange:e=>g(e.target.value),placeholder:"••••••••",className:"w-full rounded-lg border border-gray-300 py-2 pl-10 pr-4 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",disabled:y})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsxs)("label",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,a.jsx)("span",{className:"text-gray-600",children:"记住我"})]}),(0,a.jsx)(i.default,{href:"/forgot-password",className:"text-blue-600 hover:text-blue-700",children:"忘记密码?"})]}),(0,a.jsx)(n.z,{type:"submit",className:"w-full",disabled:y,children:y?"登录中...":"登录"})]}),(0,a.jsxs)("p",{className:"mt-6 text-center text-sm text-gray-600",children:["还没有账号?"," ",(0,a.jsx)(i.default,{href:"/register",className:"font-medium text-blue-600 hover:text-blue-700",children:"立即注册"})]}),(0,a.jsx)("div",{className:"mt-4 text-center",children:(0,a.jsx)(i.default,{href:"/learn",className:"text-sm text-gray-500 hover:text-gray-700",children:"继续以游客身份学习 →"})})]}),(0,a.jsxs)("p",{className:"mt-6 text-center text-sm text-gray-500",children:["登录即表示你同意我们的"," ",(0,a.jsx)(i.default,{href:"/terms",className:"text-blue-600 hover:text-blue-700",children:"服务条款"})," ","和"," ",(0,a.jsx)(i.default,{href:"/privacy",className:"text-blue-600 hover:text-blue-700",children:"隐私政策"})]})]})})}}},function(e){e.O(0,[150,491,792,269,766,971,69,744],function(){return e(e.s=3217)}),_N_E=e.O()}]);