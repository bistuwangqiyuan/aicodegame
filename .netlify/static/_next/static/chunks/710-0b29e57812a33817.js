"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[710],{2821:function(e,n,t){t.d(n,{p:function(){return s}});var r=t(789),o=t(8207),a=t(8777);function s(e){let{language:n,value:t,onChange:s,readOnly:i=!1,height:l="100%",theme:c="vs-dark"}=e,d=(0,o.useRef)(null),[u,g]=(0,o.useState)(!1),m=()=>{if(d.current){var e;null===(e=d.current.getAction("editor.action.formatDocument"))||void 0===e||e.run()}};return(0,o.useEffect)(()=>{u&&window.formatCode&&(window.formatCode[n]=m)},[u,n]),(0,r.jsx)("div",{className:"h-full w-full overflow-hidden rounded-lg border border-gray-200",children:(0,r.jsx)(a.ZP,{height:l,language:n,value:t,onChange:e=>{void 0!==e&&s(e)},onMount:(e,t)=>{d.current=e,e.updateOptions({fontSize:14,lineNumbers:"on",minimap:{enabled:!1},automaticLayout:!0,scrollBeyondLastLine:!1,wordWrap:"on",tabSize:2,insertSpaces:!0,formatOnPaste:!0,formatOnType:!0,readOnly:i}),"html"===n&&t.languages.html.htmlDefaults.setOptions({format:{tabSize:2,insertSpaces:!0,wrapLineLength:120,unformatted:"wbr",contentUnformatted:"pre,code,textarea",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:2,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"}}),g(!0)},theme:c,loading:(0,r.jsx)("div",{className:"flex h-full items-center justify-center bg-gray-900",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"loading-spinner mx-auto mb-2"}),(0,r.jsx)("p",{className:"text-sm text-gray-400",children:"加载编辑器..."})]})}),options:{readOnly:i,contextmenu:!0,folding:!0,lineDecorationsWidth:10,lineNumbersMinChars:3,renderLineHighlight:"all",scrollbar:{vertical:"visible",horizontal:"visible",verticalScrollbarSize:10,horizontalScrollbarSize:10}}})})}},4710:function(e,n,t){t.d(n,{T:function(){return g}});var r=t(789),o=t(8207),a=t(8239),s=t(9854),i=t(7423),l=t(1025),c=t(8971),d=t(3538),u=t(9986);function g(e){let{htmlCode:n,cssCode:t,jsCode:g,autoRefresh:m=!0,refreshDelay:f=1e3}=e,h=(0,o.useRef)(null),[x,p]=(0,o.useState)(!1),[b,w]=(0,o.useState)("desktop"),[v,y]=(0,o.useState)([]),N=(0,o.useRef)(),j=()=>'\n<!DOCTYPE html>\n<html lang="zh-CN">\n<head>\n  <meta charset="UTF-8">\n  <meta name="viewport" content="width=device-width, initial-scale=1.0">\n  <title>Preview</title>\n  <style>\n    * { margin: 0; padding: 0; box-sizing: border-box; }\n    body { font-family: system-ui, -apple-system, sans-serif; }\n    '.concat(t,"\n  </style>\n</head>\n<body>\n  ").concat(n,"\n  <script>\n    // 拦截console.log并发送到父窗口\n    (function() {\n      const originalLog = console.log;\n      const originalError = console.error;\n      const originalWarn = console.warn;\n\n      console.log = function(...args) {\n        originalLog.apply(console, args);\n        window.parent.postMessage({\n          type: 'console',\n          method: 'log',\n          args: args.map(arg => String(arg))\n        }, '*');\n      };\n\n      console.error = function(...args) {\n        originalError.apply(console, args);\n        window.parent.postMessage({\n          type: 'console',\n          method: 'error',\n          args: args.map(arg => String(arg))\n        }, '*');\n      };\n\n      console.warn = function(...args) {\n        originalWarn.apply(console, args);\n        window.parent.postMessage({\n          type: 'console',\n          method: 'warn',\n          args: args.map(arg => String(arg))\n        }, '*');\n      };\n\n      // 捕获运行时错误\n      window.onerror = function(message, source, lineno, colno, error) {\n        window.parent.postMessage({\n          type: 'console',\n          method: 'error',\n          args: [`Error: ${message} at line ${lineno}`]\n        }, '*');\n        return false;\n      };\n    })();\n\n    // 用户代码\n    try {\n      ").concat(g,"\n    } catch (error) {\n      console.error('执行错误:', error.message);\n    }\n  </script>\n</body>\n</html>\n    "),z=()=>{if(!h.current)return;let e=j(),n=new Blob([e],{type:"text/html"});URL.createObjectURL(n),h.current.srcdoc=e,y([])};return(0,o.useEffect)(()=>{if(m)return N.current&&clearTimeout(N.current),N.current=setTimeout(()=>{z()},f),()=>{N.current&&clearTimeout(N.current)}},[n,t,g,m,f]),(0,o.useEffect)(()=>{let e=e=>{if("console"===e.data.type){let{method:n,args:t}=e.data,r="[".concat(n,"] ").concat(t.join(" "));y(e=>[...e,r])}};return window.addEventListener("message",e),()=>window.removeEventListener("message",e)},[]),(0,r.jsxs)("div",{className:"flex h-full flex-col ".concat(x?"fixed inset-0 z-50 bg-white":""),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between border-b bg-gray-50 px-4 py-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"预览"}),(0,r.jsxs)("div",{className:"flex gap-1 rounded-lg border p-1",children:[(0,r.jsx)("button",{onClick:()=>w("mobile"),className:"rounded p-1 ".concat("mobile"===b?"bg-blue-500 text-white":"text-gray-600 hover:bg-gray-200"),title:"手机视图",children:(0,r.jsx)(a.Z,{className:"h-4 w-4"})}),(0,r.jsx)("button",{onClick:()=>w("tablet"),className:"rounded p-1 ".concat("tablet"===b?"bg-blue-500 text-white":"text-gray-600 hover:bg-gray-200"),title:"平板视图",children:(0,r.jsx)(s.Z,{className:"h-4 w-4"})}),(0,r.jsx)("button",{onClick:()=>w("desktop"),className:"rounded p-1 ".concat("desktop"===b?"bg-blue-500 text-white":"text-gray-600 hover:bg-gray-200"),title:"桌面视图",children:(0,r.jsx)(i.Z,{className:"h-4 w-4"})})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(u.z,{size:"sm",variant:"ghost",onClick:z,children:(0,r.jsx)(l.Z,{className:"h-4 w-4"})}),(0,r.jsx)(u.z,{size:"sm",variant:"ghost",onClick:()=>{p(!x)},children:x?(0,r.jsx)(c.Z,{className:"h-4 w-4"}):(0,r.jsx)(d.Z,{className:"h-4 w-4"})})]})]}),(0,r.jsx)("div",{className:"flex-1 overflow-hidden bg-white p-4",children:(0,r.jsx)("div",{className:"mx-auto h-full overflow-auto rounded-lg border bg-white shadow-sm",style:{width:(()=>{switch(b){case"mobile":return"375px";case"tablet":return"768px";default:return"100%"}})()},children:(0,r.jsx)("iframe",{ref:h,className:"h-full w-full border-0",sandbox:"allow-scripts allow-forms allow-modals allow-pointer-lock allow-popups allow-same-origin",title:"Code Preview"})})}),v.length>0&&(0,r.jsxs)("div",{className:"border-t bg-gray-900 p-4",children:[(0,r.jsxs)("div",{className:"mb-2 flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-300",children:"控制台输出"}),(0,r.jsx)("button",{onClick:()=>y([]),className:"text-xs text-gray-400 hover:text-white",children:"清空"})]}),(0,r.jsx)("div",{className:"max-h-32 overflow-y-auto rounded bg-black p-2 font-mono text-xs",children:v.map((e,n)=>(0,r.jsx)("div",{className:"mb-1 ".concat(e.includes("[error]")?"text-red-400":e.includes("[warn]")?"text-yellow-400":"text-green-400"),children:e},n))})]})]})}},9986:function(e,n,t){t.d(n,{z:function(){return c}});var r=t(789),o=t(8207),a=t(3334),s=t(4521),i=t(3869);let l=(0,s.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=o.forwardRef((e,n)=>{let{className:t,variant:o,size:s,asChild:c=!1,...d}=e,u=c?a.g7:"button";return(0,r.jsx)(u,{className:(0,i.cn)(l({variant:o,size:s,className:t})),ref:n,...d})});c.displayName="Button"},3869:function(e,n,t){t.d(n,{IN:function(){return l},Iv:function(){return d},cn:function(){return a},fy:function(){return g},uf:function(){return s},vV:function(){return u},yF:function(){return c}});var r=t(9640),o=t(3648);function a(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];return(0,o.m6)((0,r.W)(n))}function s(e){return new Intl.NumberFormat("zh-CN").format(e)}function i(e){return e*(e+1)*50}function l(e){let n=1,t=0;for(;t+i(n)<=e&&n<10;)t+=i(n),n++;let r=e-t,o=i(n);return{level:n,currentXP:r,nextLevelXP:o,progress:Math.min(r/o*100,100)}}function c(e){return["新手","学徒","练习生","开发者","工程师","专家","大师","宗师","传奇","网页高手"][e-1]||"未知"}function d(e){return({common:"text-gray-500 bg-gray-100",rare:"text-blue-500 bg-blue-100",epic:"text-purple-500 bg-purple-100",legendary:"text-orange-500 bg-orange-100"})[e]}function u(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}function g(e){let n=0;return e.length>=8&&n++,e.length>=12&&n++,/[a-z]/.test(e)&&/[A-Z]/.test(e)&&n++,/\d/.test(e)&&n++,/[^a-zA-Z0-9]/.test(e)&&n++,Math.min(n,4)}}}]);